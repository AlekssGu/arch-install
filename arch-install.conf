# =================================================================================
#    I N S T A L L A T I O N   D E V I C E
# =================================================================================

INSTALL_DEVICE="/dev/sda"

# =================================================================================
#    P A R T I T I O N   S I Z E S
# =================================================================================

BOOT_SIZE="1024"
SWAP_SIZE="1024"

# =================================================================================
#    B O O T   S E T T I N G S   A N D   F I L E   S Y S T E M S
# =================================================================================

BOOT_METHOD="legacy"
#BOOT_METHOD="efi"
case "$BOOT_METHOD" in
	legacy)
		BOOT_FILESYSTEM="ext4"
		;;

	efi)
		BOOT_FILESYSTEM="fat32"
		#EFI_BOOT_LOADER="grub"
		EFI_BOOT_LOADER="gummiboot"
		;;
esac

ROOT_FILESYSTEM="ext4"

# =================================================================================
#    D I S K   E N C R Y P T I O N
# =================================================================================

LVM_ON_LUKS="no"

# =================================================================================
#    B A S I C   S E T T I N G S
# =================================================================================

HOSTNAME="arch"
TIMEZONE="Europe/Berlin"
GENERATE_LOCALES=(
		"en_US.UTF-8 UTF-8"
		"de_DE.UTF-8 UTF-8"
	)
LOCALE="${GENERATE_LOCALES[0]}"
LOCALE_LANG="`printf "$LOCALE" | awk '{ print $1 }'`"
CONSOLE_KEYMAP="de-latin1"
CONSOLE_FONT="lat9w-16"

# =================================================================================
#    U S E R S   A N D   A C C E S S
# =================================================================================

ROOT_USER_BASH_LOGOUT_CLEAR="yes"

ADD_HOST_USER="yes"
HOST_USER_USERNAME="$HOSTNAME"
HOST_USER_REALNAME="$HOST_USER_USERNAME"
HOST_USER_GROUP="$HOST_USER_USERNAME"
HOST_USER_GROUPS_EXTRA=""
HOST_USER_SET_PASSWORD="no"
HOST_USER_BASH_LOGOUT_CLEAR="no"
HOST_USER_LOCALE=""
HOST_USER_LOCALE_LANG="`printf "$HOST_USER_LOCALE" | awk '{ print $1 }'`"

ADD_MAIN_USER="yes"
MAIN_USER_USERNAME="matthias"
MAIN_USER_REALNAME="Matthias"
MAIN_USER_GROUP="users"
MAIN_USER_GROUPS_EXTRA="$HOST_USER_GROUP,wheel"
MAIN_USER_SET_PASSWORD="yes"
MAIN_USER_BASH_LOGOUT_CLEAR="yes"
MAIN_USER_LOCALE="${GENERATE_LOCALES[1]}"
MAIN_USER_LOCALE_LANG="`printf "$MAIN_USER_LOCALE" | awk '{ print $1 }'`"

INSTALL_SCREEN="yes"
HOST_USER_CREATE_SCREENRC="no"
MAIN_USER_CREATE_SCREENRC="yes"

INSTALL_SSH="yes"
ENABLE_SERVICE_SSH="yes"

INSTALL_SUDO="yes"

# =================================================================================
#    R E P O S I T O R I E S   A N D   A U R
# =================================================================================

RANKMIRRORS="yes"
RANKMIRRORS_TOP="5"

ENABLE_MULTILIB="yes"

INSTALL_DEVEL="yes"

INSTALL_YAOURT="yes"
YAOURT_USER_USERNAME="$MAIN_USER_USERNAME"

# =================================================================================
#    X 1 1
# =================================================================================

INSTALL_X11="yes"
X11_PACKAGES_VIDEO="xf86-video-vesa"
#X11_PACKAGES_VIDEO="xf86-video-intel mesa-libgl lib32-mesa-libgl libva libva-intel-driver"
X11_PACKAGES_EXTRA="xf86-input-synaptics"

X11_KEYBOARD_CONF="yes"
X11_KEYBOARD_LAYOUT="de"
X11_KEYBOARD_MODEL="pc105"
X11_KEYBOARD_VARIANT="deadgraveacute"
X11_KEYBOARD_OPTIONS=""

X11_INSTALL_FONTS="yes"
X11_INSTALL_XFCE="yes"
X11_INSTALL_UBUNTU_FONT_RENDERING="yes"
X11_INSTALL_THEMES="yes"

X11_INSTALL_LIGHTDM="yes"
ENABLE_SERVICE_LIGHTDM="yes"

X11_INSTALL_TEAMVIEWER="yes"
ENABLE_SERVICE_TEAMVIEWER="yes"

# =================================================================================
#    N E T W O R K I N G
# =================================================================================

ENABLE_SERVICE_DHCPCD="no"

DISABLE_IPV6="yes"

INSTALL_NETWORK_MANAGER="yes"
ENABLE_SERVICE_NETWORK_MANAGER="yes"

# =================================================================================
#    A D D I T I O N A L   S E R V I C E S
# =================================================================================

INSTALL_CRON="yes"
ENABLE_SERVICE_CRON="yes"

INSTALL_AT="yes"
ENABLE_SERVICE_AT="no"

INSTALL_CUPS="yes"
ENABLE_SERVICE_CUPS="yes"

INSTALL_TLP="yes"
ENABLE_SERVICE_TLP="yes"

# =================================================================================
#    A U D I O
# =================================================================================

INSTALL_PULSEAUDIO="yes"

# =================================================================================
#    V I R T U A L B O X
# =================================================================================

INSTALL_VIRTUALBOX_GUEST="no"
ENABLE_MODULES_VIRTUALBOX_GUEST="yes"

INSTALL_VIRTUALBOX_HOST="yes"
ENABLE_MODULES_VIRTUALBOX_HOST="yes"
VIRTUALBOX_VBOXUSERS_ADD_HOST_USER="no"
VIRTUALBOX_VBOXUSERS_ADD_MAIN_USER="yes"

# =================================================================================
#    P A C K A G E   S E T   I N S T A L L A T I O N
# =================================================================================

INSTALL_PACKAGE_SETS=" \
	default \
	chrome \
	firefox \
	flash \
	thunderbird \
	skype \
	devel \
	graphics \
	internet \
	java \
	multimedia \
	office \
	others \
	power \
	devel-java \
	devel-lamp \
	devel-other \
"
#INSTALL_PACKAGE_SETS=""

# =================================================================================
#    P A C K A G E   S E T   D E F I N I T I O N S
# =================================================================================

declare -A PACKAGE_SET

PACKAGE_SET[default:pacman]="bind-tools cifs-utils dialog dos2unix encfs ethtool gvfs gvfs-smb iftop lsof mlocate mutt nmap ntfs-3g ntp parted pwgen rsnapshot shorewall smartmontools traceroute tree unrar unzip w3m whois zip"
PACKAGE_SET[default:yaourt]="puttygen-svn rdfind"

PACKAGE_SET[chrome:yaourt]="google-chrome google-talkplugin"
PACKAGE_SET[firefox:pacman]="firefox firefox-i18n-de"
PACKAGE_SET[flash:pacman]="flashplugin"
PACKAGE_SET[thunderbird:pacman]="thunderbird thunderbird-i18n-de"
PACKAGE_SET[skype:pacman]="skype"

PACKAGE_SET[devel:pacman]="cloc cmake cvs geany git mercurial mysql-workbench nodejs npm scons sqlitebrowser subversion"

PACKAGE_SET[graphics:pacman]="evince gimp gimp-help-de gthumb shutter"
PACKAGE_SET[graphics:yaourt]="gimp-plugin-saveforweb kazam"

PACKAGE_SET[internet:pacman]="filezilla libvncserver remmina tinyproxy tor wget"
PACKAGE_SET[internet:yaourt]="dropbox gstm"

PACKAGE_SET[java:pacman]="jdk8-openjdk openjdk8-doc"

PACKAGE_SET[multimedia:pacman]="audacity banshee vlc"
PACKAGE_SET[multimedia:yaourt]="spotify"

PACKAGE_SET[office:pacman]="libreoffice-fresh libreoffice-fresh-de"

PACKAGE_SET[others:pacman]="arandr catfish dconf-editor ffmpegthumbnailer file-roller gnome-calculator gnome-disk-utility gnome-keyring grsync gsmartcontrol hplip keepassx rsync seahorse terminator xscreensaver youtube-dl"
PACKAGE_SET[others:yaourt]="gigolo menulibre"

PACKAGE_SET[power:pacman]="acpi_call powertop x86_energy_perf_policy"

PACKAGE_SET[devel-java:pacman]="apache-ant maven"

PACKAGE_SET[devel-lamp:pacman]="apache mariadb php php-apache php-gd"
PACKAGE_SET[devel-lamp:pacmanAfter]="doPackageSetDevelLampPacmanAfter"
	doPackageSetDevelLampPacmanAfter() {
		mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql
	}

PACKAGE_SET[devel-other:pacman]="protobuf"

# =================================================================================
#    A D V A N C E D   S E T T I N G S
# =================================================================================

INSTALL_DEVICE_SSD_DISCARD="yes"

BOOT_LABEL="boot"
SWAP_LABEL="swap"
ROOT_LABEL="root"

LUKS_NAME="lvm"
LVM_DEVICE_HOME="/dev/mapper"
LUKS_LVM_NAME="system"

DISABLE_PC_SPEAKER="yes"

SYMLINK_HASH_COMMANDS="yes"

INSTALL_REMOVE_FROM_CHROOT="yes"
INSTALL_REMOVE_FROM_SU="yes"

# =================================================================================
#    D E P E N D E N C I E S
# =================================================================================

INSTALL_DEVICE_HOME="`dirname "$INSTALL_DEVICE"`"
INSTALL_DEVICE_NAME="`basename "$INSTALL_DEVICE"`"
if [ "`cat "/sys/block/$INSTALL_DEVICE_NAME/queue/rotational"`" == "0" ]; then
	INSTALL_DEVICE_IS_SSD="yes"
else
	INSTALL_DEVICE_IS_SSD="no"
fi

case "$BOOT_METHOD" in
	legacy)
		PARTITION_TABLE_TYPE="msdos"
		BOOT_PARTITION_TYPE="83"
		LUKS_PARTITION_TYPE="8e"
		SWAP_PARTITION_TYPE="82"
		ROOT_PARTITION_TYPE="83"
		;;

	efi)
		PARTITION_TABLE_TYPE="gpt"
		BOOT_PARTITION_TYPE="1"
		LUKS_PARTITION_TYPE="23"
		SWAP_PARTITION_TYPE="14"
		ROOT_PARTITION_TYPE="18"
		;;
esac

# =================================================================================
#    O P T I M I Z A T I O N S
# =================================================================================

OPTIMIZE_FSTAB_NOATIME="yes"

OPTIMIZE_SWAPPINESS="yes"
OPTIMIZE_SWAPPINESS_VALUE="1"

OPTIMIZE_IO_SCHEDULER_UDEV="yes"
OPTIMIZE_IO_SCHEDULER_UDEV_ROTATIONAL="0"
OPTIMIZE_IO_SCHEDULER_UDEV_VALUE="deadline"

OPTIMIZE_IO_SCHEDULER_KERNEL="no"
OPTIMIZE_IO_SCHEDULER_KERNEL_VALUE="deadline"
